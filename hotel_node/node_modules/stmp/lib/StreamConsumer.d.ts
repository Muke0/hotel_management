/*!
 * Copyright 2019 acrazing <joking.young@gmail.com>. All rights reserved.
 * @since 2019-11-30 21:55:29
 *
 * TODO: limit pending message size for avoiding memory bomb
 */
/// <reference types="node" />
import { STMPMessage } from './messages';
export declare class StreamConsumer {
    private readonly maxPendingMessage;
    private readonly maxTotalMessageSize;
    private buf;
    private pendingMessages;
    private totalMessageSize;
    private pendingMessageCount;
    private messageLength;
    constructor(maxPendingMessage?: number, maxTotalMessageSize?: number);
    private checkVolume;
    mergeMessage(message: STMPMessage): import("./messages").PingMessage | import("./messages").IncomeMessage | import("./messages").ResponseMessage | import("./messages").CloseMessage | null;
    consumeFrame(data: Buffer): Buffer | undefined;
}
