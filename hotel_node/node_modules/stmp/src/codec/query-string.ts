/*!
 * Copyright 2019 acrazing <joking.young@gmail.com>. All rights reserved.
 * @since 2019-12-18 13:35:13
 */

import { parse, stringify } from 'monofile-utilities/lib/query-string';
import { ArbitraryCodec } from './arbitrary';

export const qsCodec: ArbitraryCodec = {
  contentType: ['application/x-www-form-urlencoded'],
  responseType: 'text',
  encode(data: any) {
    return stringify(data);
  },
  decode(payload: Uint8Array | string): any {
    return parse(payload + '');
  },
};
