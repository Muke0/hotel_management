/*!
 * Copyright 2019 acrazing <joking.young@gmail.com>. All rights reserved.
 * @since 2019-12-18 12:17:53
 */

import { displayType } from 'monofile-utilities/lib/object';

export type AnyConstructor<T> = new (...args: any[]) => T;

export function assertIs<T>(
  value: any,
  proto: AnyConstructor<T>,
  message?: string,
): asserts value is T {
  if (value instanceof proto) {
    return;
  }
  throw new TypeError(
    message ??
      `expect an instance of ${proto.name}, but received an ${displayType(
        value,
      )}`,
  );
}
